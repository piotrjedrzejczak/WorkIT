{% extends 'profile.html' %}


{% block right_column %}
  <div class='p-3 mt-5 container-fluid border rounded'>
    <form method='POST'>
      {{ form.hidden_tag() }}
      <div class='form-group'>
        <label for='keywords'>Locations</label>   
          <div class="btn-group-toggle" data-toggle='buttons'>     
            {% for city in form.locations %}
              <label class="m-1 btn btn-outline-primary" for='locations-{{ loop.index0 }}'>
                {{ city }}
                {{- city.label.text -}}
              </label>
            {% endfor %}
          </div>
      </div>
      <div class='form-group'>
        <label for='keywords'>Categories</label>
          <div class="btn-group-toggle" data-toggle='buttons'>     
            {% for category in form.categories %}
              <label class="m-1 btn btn-outline-info" for='categories-{{ loop.index0 }}'>
                {{ category }}
                {{- category.label.text -}}
              </label>
            {% endfor %}
          </div>
      </div>
      <div class='form-group'>
        <label for='keywords'>Keywords</label>
        {% if form.keywords.errors %}
          {{ form.keywords(class='form-control is-invalid') }}
          <small style="color:red">{{ form.keywords.errors|join(', ')}}</small>
        {% else %}
          {{ form.keywords(class='form-control') }}
          <small class="form-text text-muted">Use comma (,) to separate keywords. Use double quotes ("") to encapsulate multi-word phrases.</small>
        {% endif %}
      </div>
      <div class='form-group'>
        <label for='max_results'>Max Results</label>
        {% if form.max_results.errors %}
          {{ form.max_results(class='form-control is-invalid') }}
          <small style="color:red">{{ form.max_results.errors|join(', ')}}</small>
        {% else %}
          {{ form.max_results(class='form-control', type='number') }}
          <small class="form-text text-muted">How many offers would you like to receive - Max. 30 Offers.</small>
        {% endif %}
      </div>
      <div class='form-group'>
        <label for='frequency'>Frequency</label>
        {% if form.frequency.errors %}
          {{ form.frequency(class='form-control is-invalid') }}
          <small style="color:red">{{ form.frequency.errors|join(', ')}}</small>
        {% else %}
          {{ form.frequency(class='form-control', type='number') }}
          <small class="form-text text-muted">How often would you like to receive the newsletter (in days). Choose between 1-14 Days.</small>
        {% endif %}
      </div>
      <div class='p-2 col text-center'>
        {{ form.submit(class='btn btn-primary')}}
      </div>
    </form>
  </div>
{% endblock %}
